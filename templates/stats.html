<!-- This is the file that draws the Statistics file
    Houses all html and javascript code ------>

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="icon" href="{{ url_for('static', filename='image/tabLogo.png') }}">
    <link rel="stylesheet"
          type="text/css"
          href="{{ url_for('static', filename='css/style2.css') }}">

    <title>{{pageName}}</title>

    <script>

            function openNavOne() {
              document.getElementById("myNav").style.width = "25%";
            }

            function closeNavOne() {
              document.getElementById("myNav").style.width = "0%";
            }

    </script>


    <nav class='navbar'>
        <ul id="myNav" class="overlay">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNavOne()">&times;</a>
            <div class="overlay-content">
                <a href="/">Home</a>
                <a href="/stats">Statistics</a>
                <a href="/graphs">Graphs</a>
                <a href="https://github.com/soukaryag/bikeshare" target="_blank">Repo</a>
                <a href="/aboutme">About Me</a>
            </div>
        </ul>

        <ul class="left">
            <li><a onclick="openNavOne()" style="font-size: 150%">&#9776;</a></li>
        </ul>


        <ul class="right">
            <li><a href="https://github.com/soukaryag/bikeshare" target="_blank" style="font-size: 150%">github repo</a></li>
        </ul>
    </nav>


</head>

<!-- TELL THE BODY TO CALL THE SCRIPTED FUNCTION AND PASS IT TO INDEX.HTML -->
<body>
<title>
    Los Angeles Bike Share Statistics Page
</title>


<!-- ADDING TEXT TO THE BODY AND ADDING THE ACTUAL FRAME OF THE MAP THAT WAS SCRIPTED IN LAYOUT.HTML -->
<link rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='css/style2.css') }}">

<div style="background-image: url('static/image/bikeRack.jpg');
                    background-size: 100%;
                    min-height: 500px;
                    background-repeat: no-repeat;
                    background-attachment: fixed;
                    font: 70px 'Century Gothic';">
    <a style="display: flex;
                  align-items: center;
                  justify-content: center;
                  text-align: center;
                  line-height: 500px;
                  color:white;
                    margin-left:10%;">Bike Share Statistics</a>
    <a style="display: flex;
                  align-items: center;
                  justify-content: center;
                  font-size: 20px;
                  color:white;
                  text-align: center;"> Click Arrow to View </a>
</div>


<script>
            function openNav() {
              document.getElementById("myNavTwo").style.height = "94%";
            }

            function closeNav() {
              document.getElementById("myNavTwo").style.height = "0%";
            }


</script>

<link rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='css/styleStat.css') }}">

<ul id="myNavTwo" class="overlayTWO">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>

    <div class="overlayTWO-content">

        <!--- THIS IS THE CODE FOR START STATION CARD --->
        <link rel="stylesheet"
              type="text/css"
              href="{{ url_for('static', filename='css/flip-card.css') }}">
        <div class="flip-card" style="width: 35%;
                            height: 200px;
                            position: absolute;
                            top:-200px;
                            right:50%;
                            padding: 25px;
                            margin: 25px;">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <a style="color:black;">Most Popular <b style="font: bold 14px; color:#5383d3">Start</b>
                        Stations</a>
                    <a style="font-size: 10px;">hover to flip</a>
                </div>
                <div class="flip-card-back">
                    <link rel="stylesheet"
                          type="text/css"
                          href="{{ url_for('static', filename='css/barGraph.css') }}">
                    <svg class="chart">
                        <g transform="translate(0,20)">
                            <rect width={{popStartStation[0][0][1]}} height="16%"></rect>
                            <text x="0%" y="9.5" dy=".35em">{{popStartStation[0][1]}}</text>
                        </g>

                        <g transform="translate(0,65)">
                            <rect width={{popStartStation[1][0][1]}} height="16%"></rect>
                            <text x="0%" y="9.5" dy=".35em">{{popStartStation[1][1]}}</text>
                        </g>

                        <g transform="translate(0,110)">
                            <rect width={{popStartStation[2][0][1]}} height="16%"></rect>
                            <text x="0%" y="9.5" dy=".35em">{{popStartStation[2][1]}}</text>
                        </g>

                        <g transform="translate(0,155)">
                            <rect width={{popStartStation[3][0][1]}} height="16%"></rect>
                            <text x="0%" y="9.5" dy=".35em">{{popStartStation[3][1]}}</text>
                        </g>

                    </svg>
                </div>
            </div>
        </div>


        <!--- THIS IS THE CODE FOR STOP STATION CARD --->
        <link rel="stylesheet"
              type="text/css"
              href="{{ url_for('static', filename='css/flip-card.css') }}">
        <div class="flip-card" style="width: 35%;
                            height: 200px;
                            position: absolute;
                            top:-200px;
                            left:50%;
                            padding: 25px;
                            margin: 25px;">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <a style="color:black;">Most Popular <b style="font: bold 14px; color:#5383d3">Stop</b> Stations</a>
                    <a style="font-size: 10px;">hover to flip</a>
                </div>
                <div class="flip-card-back">
                    <link rel="stylesheet"
                          type="text/css"
                          href="{{ url_for('static', filename='css/barGraph.css') }}">
                    <svg class="chart">
                        <g transform="translate(0,20)">
                            <rect width={{popEndStation[0][0][1]}} height="16%"></rect>
                            <text x="0%" y="9.5" dy=".35em">{{popEndStation[0][1]}}</text>
                        </g>

                        <g transform="translate(0,65)">
                            <rect width={{popEndStation[1][0][1]}} height="16%"></rect>
                            <text x="0%" y="9.5" dy=".35em">{{popEndStation[1][1]}}</text>
                        </g>

                        <g transform="translate(0,110)">
                            <rect width={{popEndStation[2][0][1]}} height="16%"></rect>
                            <text x="0%" y="9.5" dy=".35em">{{popEndStation[2][1]}}</text>
                        </g>

                        <g transform="translate(0,155)">
                            <rect width={{popEndStation[3][0][1]}} height="16%"></rect>
                            <text x="0%" y="9.5" dy=".35em">{{popEndStation[3][1]}}</text>
                        </g>
                    </svg>
                </div>
            </div>
        </div>


        <!--- AVERAGE DISTANCE TRAVELED --->
        <link rel="stylesheet"
              type="text/css"
              href="{{ url_for('static', filename='css/flip-card.css') }}">
        <div class="flip-card" style="width: 23%;
                            height: 200px;
                            position: absolute;
                            top:100px;
                            right:70%;
                            padding: 25px;
                            margin: 25px;">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <a style="color:black; font-size: 30px">Average</a>
                    <b style="font-size: 40px; color:#5383d3">Distance</b>
                    <a style="color:black; font-size: 30px">Traveled</a>
                    <a style="font-size: 10px;">hover to flip</a>
                </div>
                <div class="flip-card-back">
                    <br>
                    <b style="font-size: 40px; color:#5383d3">{{avgDist}}</b>
                    <a style="color:black; font-size: 30px">Miles/Trip</a>
                </div>
            </div>
        </div>


        <!--- REGULARS --->
        <link rel="stylesheet"
              type="text/css"
              href="{{ url_for('static', filename='css/flip-card.css') }}">
        <div class="flip-card" style="width: 23%;
                            height: 200px;
                            position: absolute;
                            top:100px;
                            left: 36%;
                            padding: 25px;
                            margin: 25px;">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <a style="color:black; font-size: 30px">Amount of</a>
                    <b style="font-size: 40px; color:#5383d3">Regular</b>
                    <a style="color:black; font-size: 30px">Users</a>
                    <a style="font-size: 10px;">hover to flip</a>
                </div>
                <div class="flip-card-back">
                    <br>
                    <b style="font-size: 40px; color:#5383d3">{{regRiders}}</b>
                    <a style="color:black; font-size: 30px">Regular Users</a>
                </div>
            </div>
        </div>


        <!--- --->
        <link rel="stylesheet"
              type="text/css"
              href="{{ url_for('static', filename='css/flip-card.css') }}">
        <div class="flip-card" style="width: 23%;
                            height: 200px;
                            position: absolute;
                            top:100px;
                            left:70%;
                            padding: 25px;
                            margin: 25px;">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <a style="color:black; font-size: 30px">Average</a>
                    <b style="font-size: 40px; color:#5383d3">Usage</b>
                    <a style="color:black; font-size: 30px">Time</a>
                    <a style="font-size: 10px;">hover to flip</a>
                </div>
                <div class="flip-card-back">
                    <br>
                    <b style="font-size: 40px; color:#5383d3">{{avgTime}}</b>
                    <a style="color:black; font-size: 30px">Minutes/Trip</a>
                </div>
            </div>
        </div>


    </div>
</ul>

<ul style="text-align: center">
    <li><a onclick="openNav()"><i class="arrow up"></i></a></li>
</ul>

<div>
    <link rel="stylesheet"
          type="text/css"
          href="{{ url_for('static', filename='css/aboutme.css') }}">

    <section class="questions-section">
        <h1 style="font-size:40px">Statistics | Analysis</h1>
        <h2>Popular Stations</h2>
        <p>The bars represent the four most popular start and stop stations, in their respective cards. The length
        of the bar implies the popularity, thus the longer, the more popular. This exact metric is better visualized
        in the two different heatmaps on the 'Home' page, so I would recommend referring to that as well.</p> <br>
        <p>An interesting thing to look at here is that most popular start stations differ from the most popular
            stop stations. This means that the bikes are constantly being redistributed across the city, which can
            potentially cause problems from the business (i.e. lack of bikes at one station). Another interesting
            bit is that most of these stations are near the center of the downtown area and near landmarks as well.
            So in terms of redistribution, it would be potentially be beneficial to place bikes near these locations.
            More analysis can deal clearer and more concrete results. </p>
        <h2>Average Distance</h2>
        <p>As show in the flip card, average distance traveled is around three and a half miles. This distance is
        calculated using simple spatial trigonometry, yielding the magnitude of the direct line between two coordinate
        points on a spherical surface. Many assumptions and simplifications are made in this process. First off, an
        simplification was made in the assumption that the Earth is a perfect sphere. Furthermore, any sort of road
        system is ignored, which would end up increasing this average distance number because any path that is not
        direct is not the shortest. However, in the simplification, a number able to somewhat represent this metric
        is acquired, and can be used for comparison with other datasets for different periods of time.</p>
        <h2>Regular Users</h2>
        <p>The average number of users is acquired by aggregating all rides in the data set excluding any rides
        categorized under the Walk-up section (this is because of the assumption that Walk-up users do not use the
        system continuously, as it is financially unsound). This number is then divided by the total number of work days
        in the period of time the data set is placed in, 182 days. There are a total of 84 holiday/weekend days that
        are not being counted as days a "Regular" rider would use their Bike Share pass. This number is a very rough
        estimate with a large margin of error. A more refined data set with a field such as "User ID" would lead to
        much more accurate results.</p>
        <h2>Average Usage Time</h2>
        <p>The following metric is much more grounded in reality and is calculated with a great amount of certainty.
        Given this number, and the average distance traveled per ride, an estimate can be made that the average bike
        speed is {{avgSpeed}} mph. According to google, average bicycle speeds are around 9.6 mph for adults on a
            leisurely ride. Therefore a somewhat educated guess can be formulated that the user base consists of both
        leisure riders and riders who use the bicycles are a mode of transportation, leaning more towards the
            leisure riders, which may make up a large portion of the Walk-up subsection. </p>

    </section>

</div>


</body>


<footer class="footer-distributed">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <div class="footer-left">

        <h3>Bike Share<span>Data</span></h3>

        <p class="footer-links">
            <a href="/">Home</a>
            ·
            <a href="/stats">Statistics</a>
            ·
            <a href="/graphs">Graphs</a>
            ·
            <a href="/aboutme">About Me</a>

        </p>

        <p class="footer-company-name">Soukarya Ghosh | B.S. Computer Science · B.A. Mathematics</p>
    </div>

    <div class="footer-center">

        <div>
            <i class="fa fa-map-marker"></i>
            <p><span>University of Virginia</span> Charlottesville, Virginia</p>
        </div>

        <div>
            <i class="fa fa-phone"></i>
            <p>+1 571-337-7193</p>
        </div>

        <div>
            <i class="fa fa-envelope"></i>
            <p><a href="mailto:sg4fz@virginia.edu">sg4fz@virginia.edu</a></p>
        </div>

    </div>

    <div class="footer-right">

        <p class="footer-company-about">
            <span>About the project</span>
            Aggregation of user data from the Los Angeles Metro bikeshare business. Using data techniques to
            determine various correlations and statistics.
        </p>

        <div class="footer-icons">
            <a href="https://www.facebook.com/soukarya.ghosh.3" target="_blank"><i class="fa fa-facebook"></i></a>
            <a href="https://twitter.com/soukarya_g" target="_blank"><i class="fa fa-twitter"></i></a>
            <a href="https://www.linkedin.com/in/soukaryaghosh" target="_blank"><i class="fa fa-linkedin"></i></a>
            <a href="https://github.com/soukaryag" target="_blank"><i class="fa fa-github"></i></a>

        </div>

    </div>

</footer>


</html>